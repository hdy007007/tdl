<nav class="navbar navbar-default">
  <div class="container-fluid">

    <!-- Brand and toggle get grouped for better mobile display -->
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <%= link_to 'GotToDo', root_path, class: 'navbar-brand' %> 

    </div>


    <% if logged_in? %>

      <ul class="nav navbar-nav navbar-right">
        <li>                
          <%= link_to new_bug_path, {title: 'Report a bug'} do %>
            <i class="fa fa-bug"></i>
          <% end %>
        </li>
        <li>
          <%= link_to new_feature_path, {title: 'Suggest a new feature'} do %>
            <i class="fa fa-bullhorn"></i>
          <% end %>
        </li>
        <li class="dropdown">
          <%= link_to '#', class: 'dropdown-toggle', 'data-toggle' => 'dropdown' do %>
            <%= @user.username %> <span class="caret" ></span>
          <% end %>
          <ul class="dropdown-menu" role="menu">
            <li>
              <%= link_to(user_path(@user)) do %>
              <span class="glyphicon glyphicon-user"></span>
              View Profile
              <% end %>
            </li>
            <li>
              <%= link_to(edit_user_path(@user)) do %>
              <span class="glyphicon glyphicon-wrench"></span>
              Edit Profile
              <% end %>
            </li>
            <li>
              <%= link_to(logout_path) do %>
              <span class="glyphicon glyphicon-log-out"></span>
              Logout
              <% end %>
            </li>
          </ul>

        </li>
      </ul>
    <% end %> 

    <!-- Collect the nav links, forms, and other content for toggling -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav">
        <% if logged_in? %>
          <li class="dropdown">
            <%= link_to '#', class: 'dropdown-toggle', 'data-toggle' => 'dropdown' do %>
              Categories <span class="caret" ></span>
            <% end %>


            <ul class="dropdown-menu" role="menu">
              <% @user.categories.all.each do |cat| %>
                <li>
                  <%= link_to cat.name, category_path(cat) %>
                </li>
              <% end %>

              <% if logged_in? %>
                <li class="divider"></li>
                <li>
                  <%= link_to(new_category_path) do %>
                    <span class="glyphicon glyphicon-plus-sign"></span>
                    New Category
                  <% end %>
                </li>
              <% end %>
            </ul>

          </li>
          <li><%= link_to 'Add Todo', new_todo_path, class: '' %></li>         
          <li><%= link_to 'Completed Todos', todos_completed_path, class: '' %></li>         
        <% else %> 
          <li><%= link_to 'Log in', login_path, class: '' %></li> 
        <% end %>


      </ul>
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>









